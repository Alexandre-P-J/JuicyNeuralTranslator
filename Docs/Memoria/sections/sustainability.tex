\chapter{Sostenibilidad, regulaciones e integración de conocimiento}
\section{Sostenibilidad}
\subsection{Autoevaluación}
Desde el primer semestre del grado en ingeniería informática se ha dado especial importancia a
la sostenibilidad como concepto a tener siempre presente. Sin embargo, personalmente no ha sido hasta
la elaboración del trabajo de fin de grado que me he planteado la huella social, económica y 
ambiental de un proyecto como este.

Realizando un ejercicio de autoevaluación me he dado cuenta de que durante el planteamiento del
trabajo no he tenido en consideración algunos criterios para validar un
proyecto sostenible. Concretamente me ha sorprendido la cantidad de indicadores existentes
para evaluar el impacto en las distintas dimensiones de la sostenibilidad y considero que
són una herramienta clave para detectar problemas de sostenibilidad y poder resolverlos.

\subsection{Dimensión económica}
\subsubsection{¿Has estimado el coste de la realización del proyecto (recursos humanos y materiales)?}

En la sección \ref{budget} se estima el coste de los distintos recursos humanos para cada
tarea y se calculan los costes genéricos, que principalmente són materiales.
Además se define un margen de contingencia y otros costes asociados al riesgo y los obstáculos.

\subsubsection{¿Has cuantificado el coste (recursos humanos y materiales) de la realización del proyecto? ¿Qué decisiones has tomado para reducir el coste? ¿Has cuantificado este ahorro?}

Los costes del trabajo se han cuantificado en la tabla \ref{totaldesvictable} una vez elaborado el proyecto y también se han calculado las desviaciones respecto al coste estimado inicialmente. Para reducir los costes se ha descartado el uso de \textit{hardware} en la nube para entrenar los modelos de traducción y se han limitado las sesiones con el director a reuniones en Google \textit{meet}. Ambos ahorros se han cuantificado, el primero supone una desviación de 960\euro\ y el segundo de 40,32\euro. Otras decisiones como por ejemplo el ajuste de las horas de dedicación del personal, también han tenido consecuencias en el coste final y se desglosan en el apartado \ref{desvpresini}.

\subsubsection{¿Se ha ajustado el coste previsto al coste final? ¿Has justificado las diferencias (lecciones aprendidas)?}
La estimación inicial fue de 17.882,99\euro\ para la elaboración total del trabajo y el coste final se ha cuantificado en 14.285,17\euro. Una desviación de 3.597,82\euro\ se considera aceptable teniendo en cuenta que se hizo una estimación a la alza y no ha sido necesario usar fondos de contingencia o asociados al riesgo. Cada una de las desviaciones se ha justificado y explicado en el apartado \ref{desvpresini} dedicado al desglose exhaustivo de las desviaciones.

\subsubsection{¿Cómo se resuelve actualmente el problema que quieres abordar (estado del arte)?
¿En qué mejorará económicamente tu solución a las existentes?}

El método de resolución que se plantea en este trabajo es el estado del arte actual.
Las soluciones existentes se ofrecen como servicios de pago con tarifas poco atractivas
\cite{GoogleTranslatePricing,AWSTranslatePricing,MicrosoftTranslatePricing}. El proyecto pretende
hacer accesible una solución \textit{in-house} para empresas con necesidad de traducir grandes
volúmenes de contenido.

\subsubsection{¿Qué coste estimas que tendrá el proyecto durante su vida útil? ¿Se podría reducir este coste para hacerlo más viable?}
El proyecto se ha diseñado teniendo en mente la escalabilidad y el uso dinámico de recursos, esto hace que en cualquier momento sea posible aumentar o disminuir el número de nodos de la arquitectura para atender a las necesidades del momento. También de han desacoplado las distintas funcionalidades para ajustar lo máximo posible el \textit{hardware} necesario y abaratar costes. Ambas decisiones se detallan en el apartado \ref{gestionrecursosimplant}.

Debido a que el proyecto es de carácter abierto, los costes de mantenimiento corresponderán a los costes de \textit{hardware} para alojar el servicio. Estos pueden oscilar desde unos pocos céntimos o euros mensuales hasta miles de euros dependiendo de la escala que se quiera usar. Siempre será posible reducir o aumentar el coste en tiempo real según el criterio de la entidad que decida usar el proyecto. Se estima que usando un servicio como AWS el coste de mantenimiento para un promedio de 10 usuarios concurrentes en todo momento oscila unos 20\euro\ mensuales.

\subsubsection{¿Se ha tenido en cuenta el coste de los ajustes/actualizaciones/reparaciones durante la vida útil del proyecto?}
La arquitectura del servicio desacopla la mayoría de los componentes y esto facilitará cualquier interacción futura con el código. Cada parte puede ajustarse, actualizarse y repararse con facilidad ya cada componente se ha diseñado de forma simple e independiente en torno a tecnologías conocidas en la industria. Añadir nuevos modelos de traducción sea cual sea su implementación, puede realizarse en minutos tal como se describe en el apartado \ref{funcextensibility}. El conjunto de decisiones tomadas durante la elaboración del proyecto garantizan un coste razonablemente bajo durante la vida útil del servicio.

\subsubsection{¿Podrían producirse escenarios que perjudicasen la viabilidad del proyecto?}
El coste del servicio depende del número de clientes y a su vez del \textit{hardware} usado. Un escenario que haría el proyecto inviable, sería un alto coste del hardware en relación al beneficio que pudiera aportar el servicio a la empresa.
En general, los costes en servicios como AWS son estables y se considera un riesgo improbable que incrementen haciendo el proyecto inviable.

\subsection{Dimensión ambiental}
\subsubsection{¿Has estimado el impacto ambiental que tendrá la realización del proyecto? ¿Te has
planteado minimizar el impacto, por ejemplo, reutilizando recursos?}\label{susambmedth}

El trabajo ejerce un impacto sobre el medio ambiente de diversas formas, algunos de estos
agentes són el consumo eléctrico, agua, transporte, internet, espacio de trabajo y maquinaria \ref{costesgenericos}.
Se han tomado medidas para minimizar sus efectos sobre el medio:

El uso de ordenadores de alto rendimiento tiene un gran coste ambiental,
desde su fabricación hasta su posterior reciclaje. Es por ello, que la maquinaria
local \hyperref[R06]{R06} se ha utilizado previamente y se seguirá usando después de
finalizar el proyecto. Se pretende reutilizar al máximo este recurso hasta el
momento de su disposición y reciclaje.
En cuanto a los recursos computacionales remotos, se confía en las políticas de sostenibilidad
\cite{awssustainability} que anuncian los distintos proveedores.

Además, mediante el uso de técnicas como el \textit{fine-tunning} y el
\textit{transfer learning}, se pretende minimizar el consumo eléctrico necesario para
entrenar los modelos de traducción.

Por último, el uso de transporte público y la consumición de recursos y servicios sostenibles
reducen mi impacto como individuo y principal fuerza de trabajo del proyecto. 

\subsubsection{¿Has cuantificado el impacto ambiental de la realización del proyecto? ¿Qué medidas has tomado para reducir el impacto? ¿Has cuantificado esta reducción?}

El análisis del consumo eléctrico, agua, transporte, internet, espacio de trabajo y maquinaria se lleva a cabo en el apartado \ref{costesgenericos} y algunas de las medidas llevadas a cabo se describen en \ref{susambmedth}, además las reuniones se han efectuado a través de Google \textit{meet} y no ha sido necesario ningún transporte, eliminando así una parte de mi impacto ambiental.
Se cree que eliminando la necesidad de transporte se han reducido unos 12 viajes en bus.

\subsubsection{Si hicieras de nuevo el proyecto, ¿podrías realizarlo con menos recursos?}

Si pudiera rehacer el proyecto con los conocimientos que he adquirido, podría ahorrar los recursos usados durante la investigación y reduciría notablemente el tiempo necesario para elaborar el trabajo. Sin embargo, no considero que los recursos se hayan usado de forma ineficiente.

\subsubsection{¿Cómo se resuelve actualmente el problema que quieres abordar (estado del arte)?
¿En qué mejorará ambientalmente tu solución a las existentes?}

Actualmente los servicios de traducción automática se alojan en centros de datos y
es difícil estimar su impacto ambiental debido a la poca transparencia de los proveedores
de estos servicios. La solución que plantea este trabajo permitirá realizar un aprovisionamiento
de los recursos computacionales más adecuado a las necesidades de la empresa, posibilitando incluso
su implantación \textit{in-house}. Además, se facilitará el ajuste de los modelos y se
explorarán opciones de mayor rendimiento.
Esto se convertirá en una reducción en el consumo eléctrico y al mismo tiempo dará mejor uso al
\textit{hardware}.

\subsubsection{¿Qué recursos estimas que se usarán durante la vida útil del proyecto? ¿Cuál será el impacto ambiental de estos recursos?}

El proyecto puede usarse sin necesidad de modificación, sin embargo para mejorar o extender el proyecto sería necesaria una persona o un colectivo pequeño. Si se implanta como una solución \textit{in-house} también requeriría el mantenimiento ocasional de un informático además de los recursos computacionales para hospedar el servicio.

Para una empresa mediana sería recomendable un servidor de gama media y quizás una instancia de cómputo. Sin embargo, dependería de las necesidades específicas: el tráfico concurrente, el tamaño de los archivos, la necesidad de entrenar modelos propios y la política de eliminación de ficheros entre otros. Se considera que en la mayoría de casos el impacto no sería muy elevado pero suponiendo un caso de uso exigente, se necesitaría la contratación de al menos una persona y los costes asociados a una o dos máquinas, cuyo impacto ambiental vendría determinado por el impacto del trabajador, la política ambiental \textit{hardware} de la empresa y el consumo eléctrico, que podría oscilar los 300-600W \cite{Davy2022Jan}. Si se usa tecnología industrial el coste eléctrico se reduciría en momentos de poco tráfico.

\subsubsection{¿El proyecto permitirá reducir el uso de otros recursos? ¿Globalmente, el uso del proyecto mejorará o empeorará la huella ecológica?}

Otras alternativas en el mercado requieren la contratación de servicios de pago alojados en servidores altamente optimizados para la inferencia de modelos, mientras que las tecnologías disponibles al público general o empresas medianas carecen de tales optimizaciones. En contraposición, se cree que los intereses de las empresas que ofrecen servicios de traducción automática se centran en la calidad de servicio y la monetización pero no tanto en el impacto ambiental.

Las corporaciones como Amazon, Microsoft o Google requieren un gran volumen de \textit{hardware} destinado a la redundancia para hacer frente a picos de tráfico sin ralentizar o pausar sus actividades. Usando soluciones \textit{in-house} gestionadas directamente por la empresa interesada es posible reducir la huella ambiental gracias al conocimiento sobre los requisitos específicos del servicio.
Además, con el proyecto que se ha desarrollado sería posible usar máquinas menos modernas puesto que el software no depende de licencias o limitaciones ligadas a soluciones de \textit{hardware} industrial. Por todos estos motivos, se cree que el proyecto tiene un efecto positivo sobre el medio a nivel global y permitiría reducir la huella ecológica siempre que la empresa que implante el proyecto haga una buena gestión de los recursos.

\subsubsection{¿Podrían producirse escenarios que hiciesen aumentar la huella ecológica del proyecto?}

Un mal uso del \textit{software} sería claramente perjudicial para el medio ambiente. Para aprovechar al máximo los recursos de \textit{hardware} y reducir el consumo eléctrico, es necesario conocer el tráfico que tendrá el servicio además de cierto conocimiento sobre el uso de Docker u otras herramientas de orquestración para maximizar la saturación de los recursos.



\subsection{Dimensión social}
\subsubsection{Qué crees que te va a aportar a nivel personal la realización de este proyecto?}

El trabajo de fin de grado es hasta la fecha el proyecto de \textit{machine learning} más
complejo y extenso que he realizado, además tiene un fuerte componente de investigación
así como de desarrollo práctico. Considero que ganaré cierto grado de madurez
en el campo y me permitirá afrontar proyectos de mayor envergadura en el futuro.

\subsubsection{¿La realización de este proyecto ha implicado refrexiones significativas a nivel personal, profesional o ético de las personas que han intervenido?}

Diversas personas han intervenido en la realización del trabajo, entre ellos, el director de la tesis y 4 amigos que me han ayudado a probar los modelos de traducción mediante un test a ciegas. No considero que ninguno de estos individuos haya desarrollado reflexiones significativas a raíz del trabajo debido a sus niveles de implicación personal en el proyecto. Sin embargo, como autor del trabajo si que he reflexionado personal y profesionalmente como consecuencia de haberme afrontado al proyecto más complejo que he realizado en el campo del \textit{machine learning} hasta la fecha.

Durante la elaboración del trabajo se ha consultado una gran cantidad de informes de investigación \textit{papers} y he adquirido confianza para afrontar proyectos que requieran una labor similar en el futuro. También he aprendido una multitud de tecnologías que considero importantes en mi futuro profesional como ingeniero informático.

\subsubsection{¿Cómo se resuelve actualmente el problema que quieres abordar (estado del arte)?
¿En qué mejorará socialmente (calidad de vida) tu solución a las existentes?}

Actualmente la mayoría de servicios de traducción automática se limitan a fragmentos y documentos
con poco volumen de texto. Las soluciones para la traducción de textos largos
són escasas y en el caso de documentos suelen ofrecerse
como un servicio de pago difícilmente escalable a nivel empresarial. Además, no es posible
el ajuste de los modelos de traducción.

El proyecto pretende ser una alternativa que podrán utilizar individuos ajenos al \textit{machine learning},
con la capacidad de traducir fragmentos de texto y documentos de distintos formatos mediante
el uso de modelos que representan el estado del arte.
Se permitirá añadir, corregir y ajustar los modelos para la traducción en registros y contextos
específicos.

\subsubsection{¿Existe una necesidad real del proyecto?}

La traducción es una tarea esencial en el ámbito personal y empresarial. Las prestaciones que se proponen
suponen una mejora sustancial sobre las soluciones existentes y existe una necesidad real en empresas
e individuos con un gran volumen de contenido que necesita ser traducido automáticamente.

\subsubsection{¿Quién se beneficiará del uso del proyecto? ¿Hay algún colectivo que puede verse perjudicado por el proyecto? ¿En qué medida?}

Los principales beneficiados son empresas o individuos con la necesidad de una herramienta de traducción. El proyecto podría ser usado como herramienta dentro de una intranet profesional o expuesta al público general. También sería posible monetizar el servicio, en ese caso el dueño del servicio se vería beneficiado.

El colectivo de los traductores profesionales podría verse muy afectado si la herramienta reduce la necesidad de contratación de individuos para la traducción humana. 
Un amigo que se dedica a la traducción profesional me ha destacado que la mayoría de puestos de trabajo perdidos debido a la traducción automática son de areas específicas de la traducción, por ejemplo, la traducción de documentos técnicos y especialmente de la informática. Pero todavía no es suficientemente buena como para reemplazar la traducción manual en algunos contextos.
También ha aparecido una nueva forma de trabajar dentro de la traducción profesional llamada postedición, que consiste en pretraducir los textos mediante un traductor automático para después realizar una traducción manual del texto.

\subsubsection{¿En qué medida soluciona el proyecto el problema planteado inicialmente?}

Se ha conseguido implementar todas las funcionalidades satisfactoriamente y el proyecto soluciona los problemas planteados. Específicamente, la herramienta es gratuita, escalable, extensible y dispone de una interfaz web usable por usuarios ajenos al \textit{machine learning}. También implementa un mecanismo de corrección que puede usarse para el entrenamiento de nuevos modelos y soporta documentos pdf, docx y txt además de fragmentos de texto.

\subsubsection{¿Podrían producirse escenarios que hiciesen que el proyecto fuese perjudicial para algún segmento particular de la población?}

En general los riesgos asociados al proyecto son riesgos de la traducción automática, no del trabajo. El proyecto no supone un avance en la traducción automática, es una herramienta que facilita el uso de modelos y técnicas del \textit{machine learning} a individuos y empresas.

\subsubsection{¿Podría crear el proyecto algún tipo de dependencia que dejase a los usuarios en posición de debilidad?}

Siendo el código del proyecto abierto es difícil imaginar una situación de debilidad provocada por una dependencia al proyecto. Pero podría darse el caso que otras herramientas similares, si las hubiera, dejaran de ser mantenidas en favor a este proyecto y los usuarios se vieran obligados a usar este proyecto por falta de alternativas.

\section{Identificación de leyes y regulaciones}
El trabajo tiene un componente práctico que consiste en la implementación de una herramienta de traducción web.
Existen diversas regulaciones que se deberían tener en cuenta si el proyecto se expone al público, a continuación se enumeran:
\subsubsection{Tratamiento y protección de datos}
En España los datos personales están regulados por la agencia de protección de datos. En el caso del traductor web existen vias por las que datos de carácter personal podrían ser tratados o almacenados en el sistema. Los fragmentos de texto podrían contener información personal, en el caso de los ficheros de texto, docx y pdf es todavía más evidente, ya que no sería raro que un documento contuviera datos como: el DNI, fotos, datos bancarios u otros.

Además, aunque los fragmentos de texto no se almacenen, los ficheros y las correcciones ofrecidas por los usuarios podrían ser persistentes y se deberá dar de alta un archivo en plataforma de la agencia de protección de datos, también se deberá informar al usuario interesado sobre el uso de sus datos y pedir su consentimiento.

\subsubsection{\textit{Cookies} y seguimiento}
Actualmente es común introducir \textit{cookies} y otras herramientas de seguimiento para fines publicitarios o para la analítica web. Un ejemplo es \textit{Google analytics}. El proyecto no incorpora ningún tipo de herramienta de seguimiento o \textit{cookie}, pero si se optara por ello, sería necesario informar al usuario y pedir su consentimiento.

\subsubsection{No responsabilidad}
Especialmente en la traducción de documentos pero también en la traducción de fragmentos de texto, se deberá informar al usuario que el traductor web se desentiende de cualquier responsabilidad derivada de la traducción de un texto o documento. En el caso de la traducción de textos legales o de importancia, existe la figura de traductor jurado, cuyo papel es el de traducir estos documentos. No se debería usar un traductor automático en estos casos.

\subsubsection{Licencias}
En cualquier proyecto de software es común el uso de librerías y otras herramientas sujetas a una licencia. Se deberán considerar las siguientes licencias procedentes mayoritariamente de librerías de python:
\begin{itemize}
    \item Apache 2.0 \cite{Apache2license}: transformers, datasets, sentencepiece, sacrebleu
    \item BSD 3-Clause \cite{BSD3Clause}: hiredis, redis, celery, PyPDF2, reportlab, torch, flask
    \item MIT \cite{MITLicense}: ftfy, pdfminer.six, python-docx, spacy, gunicorn, sqlalchemy
    \item PostgreSQL License \cite{Postgreslicense}: postgresql
\end{itemize}
Se ha usado software libre y licencias poco restrictivas, en general no debería haber ningún problema de distribución o comercialización siempre que se incluya una licencia mencionando estas dependencias.

\section{Integración de conocimientos y disciplinas}\label{assigconoci}
El proyecto trabaja diversas competencias técnicas e integra distintas disciplinas trabajadas a lo largo del grado en ingeniería informática. Las competencias se enumeran a continuación:

\subsubsection{CCO1.3}\textit{Definir, evaluar y seleccionar plataformas de desarrollo y producción hardware y software para el desarrollo de aplicaciones y servicios informáticos de diversa complejidad.}% Bastante
\subsubsection{CCO2.1}\textit{Demostrar conocimiento de los fundamentos, de los paradigmas y de las técnicas propias de los sistemas inteligentes, y analizar, diseñar y construir sistemas, servicios y aplicaciones informáticas que usen estas técnicas en cualquier ámbito de aplicación.}%Bastante
\subsubsection{CCO2.4}\textit{Demostrar conocimiento y desarrollar técnicas de aprendizaje computacional; diseñar e implementar aplicaciones y sistemas que las usen, incluyendo las que se dedican a la extracción automática de información y conocimiento a partir de grandes volúmenes de datos.}%En profundidad
\subsubsection{CCO2.6}\textit{Diseñar e implementar aplicaciones gráficas, de realidad virtual, de realidad aumentad y videojuegos.}%Un poco
\\

Para afrontar las competencias técnicas mencionadas ha sido indispensable el conocimiento adquirido en diversas asignaturas durante el grado, además se ha integrado y profundizado el conocimiento de las distintas disciplinas para generar soluciones propias a los distintos retos que supone el trabajo.

No hubiera sido posible afrontar los conceptos tratados sin un firme entendimiento de los fundamentos matemáticos del álgebra y cálculo estudiados en \textbf{Matematicas 1 y 2}, además de los fundamentos adquiridos en la asignatura de \textbf{Probabilidad y estadística}.
La asignatura de \textbf{Inteligencia artificial} ha ampliado la perspectiva de los paradigmas del area y \textbf{Aprendizaje automático} ha introducido los distintos métodos y consideraciones que deben aplicarse al tratar con \textit{datasets}. También se han aprendido distintas técnicas de visualización de datos y los modelos clásicos de \textit{machine learning} y su funcionamiento.
La asignatura de \textbf{Búsqueda y análisis de información masiva} fue la primera introducción al procesamiento del lenguaje natural y las distintas técnicas de tratamiento y segmentación de texto.

Otras disciplinas como la \textbf{Administración de sistemas operativos} ampliaron mis conocimientos de gestión de software y la creación y mantenimiento de sistemas de producción para aplicaciones informáticas. \textbf{Software libre y desarrollo social} complementó los conocimientos de sistemas y la importancia del software libre y la sostenibilidad.
Los conocimientos sobre arquitectura web se obtuvieron con la asignatura de \textbf{Aplicaciones distribuidas} y la optimización e importancia del paralelismo, en aplicaciones distribuidas o de alto rendimiento, se aprendió con la asignatura de \textbf{Paralelismo}. Por último, el diseño de interfaces y las distintas directivas para la interacción con sistemas informáticos se estudiaron en la asignatura de \textbf{Interacción y diseño de interfaces}.